/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.4.2 - 2017-10-04T07:32:16.710Z
 * License: MIT
 */
!function(){"use strict";function o(o){function n(o){for(var n=0;n<o.length;n++)p.files.push(o[n])}function e(){return p.files}function i(o){p.options=o;for(var n=o.headers||{},e=o.options||{},i=0;i<p.files.length&&p.activeUploads!=p.options.concurrency;i++)p.files[i].active||(p.files[i].xhr=r(p.files[i],p.options.url,p.options.data,p.options.paramName,n,e))}function t(o){o.xhr&&o.xhr.abort(),s(o)}function s(o){p.files.splice(p.files.indexOf(o),1)}function a(){p.files.splice(0,p.files.length)}function l(o){var n=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],e=0===o?0:+Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,e)).toFixed(e?1:0)+" "+n[isNaN(o)?0:e+1]}function r(o,n,e,t,s,a){var r,u,d;if(e=e||{},t=t||"file",p.activeUploads+=1,o.active=!0,r=new window.XMLHttpRequest,a.withCredentials===!0&&(r.withCredentials=!0),u=new window.FormData,r.open("POST",n),s)for(var c in s)s.hasOwnProperty(c)&&r.setRequestHeader(c,s[c]);if(r.upload.onloadstart=function(){},r.upload.onprogress=function(n){n.lengthComputable&&(o.loaded=n.loaded,o.humanSize=l(n.loaded),angular.isFunction(p.options.onProgress)&&p.options.onProgress(o))},r.upload.onload=function(){angular.isFunction(p.options.onUploadSuccess)&&p.options.onUploadSuccess(o)},r.upload.onerror=function(o){angular.isFunction(p.options.onError)&&p.options.onError(o)},r.onload=function(){p.activeUploads-=1,p.uploadedFiles+=1,i(p.options),angular.isFunction(p.options.onCompleted)&&p.options.onCompleted(o,r.responseText,r.status),0===p.activeUploads&&(p.uploadedFiles=0,angular.isFunction(p.options.onCompletedAll)&&p.options.onCompletedAll(p.files))},r.onabort=function(){p.activeUploads--,i(p.options)},e)for(d in e)e.hasOwnProperty(d)&&u.append(d,e[d]);return u.append(t,o,o.name),r.send(u),r}var p=this;return p.files=[],p.options={},p.activeUploads=0,p.uploadedFiles=0,o.info("uiUploader loaded"),{addFiles:n,getFiles:e,files:p.files,startUpload:i,stopUpload:t,removeFile:s,removeAll:a}}angular.module("ui.uploader",[]).service("uiUploader",o),o.$inject=["$log"]}();